let currentSlide = 0;
const slides = document.querySelectorAll(".slide");
const totalSlides = slides.length;
const slider = document.getElementById("slider");
const music = document.getElementById("music");

let started = false;

// Auto slide function
function showSlide(index) {
  slider.style.transform = `translateX(-${index * 100}vw)`;
}

// Auto play slides every 4 seconds
function autoSlide() {
  setInterval(() => {
    if (currentSlide < totalSlides - 1) {
      currentSlide++;
      showSlide(currentSlide);
    }
  }, 4000);
}

// Start music on first interaction (browser policy safe)
document.body.addEventListener("click", function () {
  if (!started) {
    music.play().catch(() => {});
    started = true;
  }
});

// YES button
document.addEventListener("click", function (e) {
  if (e.target.id === "yes") {
    slider.innerHTML = `
      <div class="slide" style="background:#0b3d0b; color:white;">
        <div class="content">
          ðŸ’š You just made this the best story ever ðŸ’š<br><br>
          Forever starts now ðŸŒ¿
        </div>
      </div>
    `;
  }
});

// NO button runs away ðŸ˜„
document.addEventListener("mouseover", function (e) {
  if (e.target.id === "no") {
    const btn = e.target;
    const maxX = window.innerWidth - btn.offsetWidth;
    const maxY = window.innerHeight - btn.offsetHeight;

    const randomX = Math.random() * maxX;
    const randomY = Math.random() * maxY;

    btn.style.position = "absolute";
    btn.style.left = randomX + "px";
    btn.style.top = randomY + "px";
  }
});

// Initialize first slide
showSlide(currentSlide);
autoSlide();
